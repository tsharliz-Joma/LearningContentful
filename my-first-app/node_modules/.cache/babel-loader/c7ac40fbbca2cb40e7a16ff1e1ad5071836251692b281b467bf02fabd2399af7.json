{"ast":null,"code":"import n from 'react';\nimport { cx, css } from 'emotion';\nimport { Tooltip } from '@contentful/f36-tooltip';\nimport { DragIcon, CloseIcon } from '@contentful/f36-icons';\nimport { Button } from '@contentful/f36-button';\nimport o from '@contentful/f36-tokens';\nvar E = Object.defineProperty;\nvar s = Object.getOwnPropertySymbols;\nvar P = Object.prototype.hasOwnProperty,\n  y = Object.prototype.propertyIsEnumerable;\nvar f = (t, e, r) => e in t ? E(t, e, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: r\n  }) : t[e] = r,\n  p = (t, e) => {\n    for (var r in e || (e = {})) P.call(e, r) && f(t, r, e[r]);\n    if (s) for (var r of s(e)) y.call(e, r) && f(t, r, e[r]);\n    return t;\n  };\nvar b = (t, e) => {\n  var r = {};\n  for (var a in t) P.call(t, a) && e.indexOf(a) < 0 && (r[a] = t[a]);\n  if (t != null && s) for (var a of s(t)) e.indexOf(a) < 0 && y.call(t, a) && (r[a] = t[a]);\n  return r;\n};\nvar H = () => css({\n    borderLeft: `1px solid ${o.gray400}`,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    padding: o.spacingXs,\n    minHeight: \"auto\",\n    transition: `background ${o.transitionDurationShort} ${o.transitionEasingDefault},\n    opacity ${o.transitionDurationDefault} ${o.transitionEasingDefault}`,\n    \"&:focus\": {\n      boxShadow: o.glowMuted,\n      borderLeftColor: o.gray300\n    },\n    \"&:hover, &:focus, &:active\": {\n      backgroundColor: o.gray300\n    }\n  }),\n  L = () => css({\n    color: o.gray700,\n    lineHeight: o.lineHeightM,\n    padding: o.spacingXs,\n    fontSize: o.fontSizeM,\n    flexGrow: 2,\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\"\n  }),\n  N = t => {\n    let e = r => {\n      switch (r) {\n        case \"active\":\n          return {\n            background: o.gray300\n          };\n        case \"deleted\":\n          return {\n            background: o.gray200,\n            textDecoration: \"line-through\",\n            opacity: \"0.5\"\n          };\n        default:\n          return {\n            background: o.gray200\n          };\n      }\n    };\n    return css(p({\n      display: \"inline-flex\",\n      fontFamily: o.fontStackPrimary,\n      alignItems: \"center\",\n      borderRadius: o.borderRadiusSmall,\n      border: \"none\",\n      padding: 0,\n      maxWidth: \"100%\"\n    }, e(t)));\n  };\nfunction h(t) {\n  return {\n    closeButton: H(),\n    label: L(),\n    icon: css({\n      fill: o.gray600,\n      verticalAlign: \"middle\",\n      outline: \"none\"\n    }),\n    dragIcon: css({\n      padding: o.spacingXs,\n      paddingRight: 0,\n      cursor: \"move\"\n    }),\n    pill: N(t)\n  };\n}\nvar v = n.forwardRef((t, e) => {\n  let g = t,\n    {\n      label: r,\n      onClose: a,\n      testId: x = \"cf-ui-pill\",\n      onDrag: d,\n      className: C,\n      dragHandleComponent: c,\n      variant: D = \"idle\"\n    } = g,\n    S = b(g, [\"label\", \"onClose\", \"testId\", \"onDrag\", \"className\", \"dragHandleComponent\", \"variant\"]),\n    l = h(D),\n    [I, m] = n.useState(!1),\n    k = n.useCallback(u => {\n      if (!u) return;\n      let {\n        scrollWidth: T,\n        offsetWidth: w\n      } = u.parentElement;\n      m(T > w);\n    }, [m]);\n  return n.createElement(\"div\", p({\n    className: cx(l.pill, C),\n    \"data-test-id\": x,\n    onDrag: d,\n    ref: e\n  }, S), d && (c || n.createElement(\"span\", {\n    \"aria-label\": \"Drag handler\",\n    className: l.dragIcon\n  }, n.createElement(DragIcon, {\n    className: l.icon,\n    variant: \"muted\"\n  }))), n.createElement(Tooltip, {\n    content: r,\n    maxWidth: \"none\",\n    targetWrapperClassName: l.label,\n    isDisabled: !I\n  }, n.createElement(\"span\", {\n    ref: k\n  }, r)), a && n.createElement(Button, {\n    type: \"button\",\n    variant: \"transparent\",\n    startIcon: n.createElement(CloseIcon, {\n      \"aria-label\": \"Close\"\n    }),\n    \"aria-label\": \"Close\",\n    onClick: a,\n    className: l.closeButton\n  }));\n});\nv.displayName = \"Pill\";\nexport { v as Pill };","map":{"version":3,"names":["cx","css"],"sources":["/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-pill/src/Pill.tsx","/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-pill/src/Pill.styles.ts"],"sourcesContent":["import React from 'react';\nimport { cx } from 'emotion';\nimport type {\n  CommonProps,\n  PropsWithHTMLElement,\n  ExpandProps,\n} from '@contentful/f36-core';\nimport { Tooltip } from '@contentful/f36-tooltip';\nimport { DragIcon, CloseIcon } from '@contentful/f36-icons';\nimport { Button } from '@contentful/f36-button';\nimport { PillVariants } from './types';\nimport { getPillStyles } from './Pill.styles';\n\nexport type PillInternalProps = CommonProps & {\n  /**\n   * Text that will be shown on the pill\n   */\n  label: string;\n  /**\n   * Function that handles when the close icon is clicked. Close icon visibility depends on if this property is set.\n   */\n  onClose?: () => void;\n  /**\n   * Function that handles when the pill is dragged. Drag icon visibility depends on if this property is set.\n   */\n  onDrag?: () => void;\n  /**\n   * Custom component to be used as handler for the drag functionality.\n   */\n  dragHandleComponent?: React.ReactNode;\n  /**\n   * Determines style variation of Pill component\n   * @default idle\n   */\n  variant?: PillVariants;\n};\n\nexport type PillProps = PropsWithHTMLElement<PillInternalProps, 'div'>;\n\nexport const Pill = React.forwardRef<HTMLDivElement, ExpandProps<PillProps>>(\n  (props, ref) => {\n    const {\n      label,\n      onClose,\n      testId = 'cf-ui-pill',\n      onDrag,\n      className,\n      dragHandleComponent,\n      variant = 'idle',\n      ...otherProps\n    } = props;\n\n    const styles = getPillStyles(variant);\n    const [textIsTruncated, setTextIsTruncated] = React.useState(false);\n\n    const trackRefChange = React.useCallback(\n      (ref: HTMLDivElement | null) => {\n        if (!ref) {\n          return;\n        }\n        const { scrollWidth, offsetWidth } = ref.parentElement;\n        setTextIsTruncated(scrollWidth > offsetWidth);\n      },\n      [setTextIsTruncated],\n    );\n\n    return (\n      <div\n        className={cx(styles.pill, className)}\n        data-test-id={testId}\n        onDrag={onDrag}\n        ref={ref}\n        {...otherProps}\n      >\n        {onDrag &&\n          (dragHandleComponent ? (\n            dragHandleComponent\n          ) : (\n            <span aria-label=\"Drag handler\" className={styles.dragIcon}>\n              <DragIcon className={styles.icon} variant=\"muted\" />\n            </span>\n          ))}\n        <Tooltip\n          content={label}\n          maxWidth=\"none\"\n          targetWrapperClassName={styles.label}\n          isDisabled={!textIsTruncated}\n        >\n          <span ref={trackRefChange}>{label}</span>\n        </Tooltip>\n        {onClose && (\n          <Button\n            type=\"button\"\n            variant=\"transparent\"\n            startIcon={<CloseIcon aria-label=\"Close\" />}\n            aria-label=\"Close\"\n            onClick={onClose}\n            className={styles.closeButton}\n          />\n        )}\n      </div>\n    );\n  },\n);\n\nPill.displayName = 'Pill';\n","import { css } from 'emotion';\nimport tokens from '@contentful/f36-tokens';\nimport { PillVariants } from './types';\n\nconst getCloseButtonStyle = () => {\n  return css({\n    borderLeft: `1px solid ${tokens.gray400}`,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    padding: tokens.spacingXs,\n    minHeight: 'auto',\n    transition: `background ${tokens.transitionDurationShort} ${tokens.transitionEasingDefault},\n    opacity ${tokens.transitionDurationDefault} ${tokens.transitionEasingDefault}`,\n    '&:focus': {\n      boxShadow: tokens.glowMuted,\n      borderLeftColor: tokens.gray300,\n    },\n    '&:hover, &:focus, &:active': {\n      backgroundColor: tokens.gray300,\n    },\n  });\n};\n\nconst getLabelStyle = () => {\n  return css({\n    color: tokens.gray700,\n    lineHeight: tokens.lineHeightM,\n    padding: tokens.spacingXs,\n    fontSize: tokens.fontSizeM,\n    flexGrow: 2,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n  });\n};\n\nconst getPillStyle = (variant: PillVariants) => {\n  const variantStyle = (variant: PillVariants) => {\n    switch (variant) {\n      case 'active':\n        return {\n          background: tokens.gray300,\n        };\n      case 'deleted':\n        return {\n          background: tokens.gray200,\n          textDecoration: 'line-through',\n          opacity: '0.5',\n        };\n      default:\n        return {\n          background: tokens.gray200,\n        };\n    }\n  };\n\n  return css({\n    display: 'inline-flex',\n    fontFamily: tokens.fontStackPrimary,\n    alignItems: 'center',\n    borderRadius: tokens.borderRadiusSmall,\n    border: 'none',\n    padding: 0,\n    maxWidth: '100%',\n    ...variantStyle(variant),\n  });\n};\n\nexport function getPillStyles(variant: PillVariants) {\n  return {\n    closeButton: getCloseButtonStyle(),\n    label: getLabelStyle(),\n    icon: css({\n      fill: tokens.gray600,\n      verticalAlign: 'middle',\n      outline: 'none',\n    }),\n    dragIcon: css({\n      padding: tokens.spacingXs,\n      paddingRight: 0,\n      cursor: 'move',\n    }),\n    pill: getPillStyle(variant),\n  };\n}\n"],"mappings":";ACWuE,SAAAA,EAAA,EAAAC,GAClD"},"metadata":{},"sourceType":"module","externalDependencies":[]}