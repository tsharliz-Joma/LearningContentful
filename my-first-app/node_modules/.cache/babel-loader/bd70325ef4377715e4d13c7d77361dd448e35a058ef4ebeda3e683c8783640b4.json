{"ast":null,"code":"import u, { useState, useCallback } from 'react';\nimport { CopyIcon } from '@contentful/f36-icons';\nimport { Tooltip } from '@contentful/f36-tooltip';\nimport { Button } from '@contentful/f36-button';\nimport { cx, css } from 'emotion';\nvar S = Object.defineProperty,\n  D = Object.defineProperties;\nvar L = Object.getOwnPropertyDescriptors;\nvar c = Object.getOwnPropertySymbols;\nvar b = Object.prototype.hasOwnProperty,\n  v = Object.prototype.propertyIsEnumerable;\nvar P = (t, o, e) => o in t ? S(t, o, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: e\n  }) : t[o] = e,\n  f = (t, o) => {\n    for (var e in o || (o = {})) b.call(o, e) && P(t, e, o[e]);\n    if (c) for (var e of c(o)) v.call(o, e) && P(t, e, o[e]);\n    return t;\n  },\n  C = (t, o) => D(t, L(o));\nvar g = (t, o) => {\n  var e = {};\n  for (var r in t) b.call(t, r) && o.indexOf(r) < 0 && (e[r] = t[r]);\n  if (t != null && c) for (var r of c(t)) o.indexOf(r) < 0 && v.call(t, r) && (e[r] = t[r]);\n  return e;\n};\nvar h = (t, o, e) => new Promise((r, i) => {\n  var p = n => {\n      try {\n        s(e.next(n));\n      } catch (a) {\n        i(a);\n      }\n    },\n    l = n => {\n      try {\n        s(e.throw(n));\n      } catch (a) {\n        i(a);\n      }\n    },\n    s = n => n.done ? r(n.value) : Promise.resolve(n.value).then(p, l);\n  s((e = e.apply(t, o)).next());\n});\nvar T = _ref => {\n  let {\n    size: t\n  } = _ref;\n  let o = t === \"small\" ? \"32px\" : \"40px\";\n  return {\n    button: css({\n      height: o,\n      minHeight: \"auto\",\n      minWidth: \"auto\",\n      width: o\n    })\n  };\n};\nfunction E(q, k) {\n  var B = q,\n    {\n      className: t,\n      isDisabled: o = !1,\n      isLoading: e = !1,\n      label: r,\n      onBlur: i,\n      onCopy: p,\n      size: l = \"medium\",\n      testId: s = \"cf-ui-copy-button\",\n      tooltipCopiedText: n = \"Copied!\",\n      tooltipProps: a,\n      tooltipText: H = \"Copy to clipboard\",\n      value: m\n    } = B,\n    w = g(B, [\"className\", \"isDisabled\", \"isLoading\", \"label\", \"onBlur\", \"onCopy\", \"size\", \"testId\", \"tooltipCopiedText\", \"tooltipProps\", \"tooltipText\", \"value\"]);\n  let I = T({\n      size: l\n    }),\n    [d, x] = useState(!1),\n    M = useCallback(() => h(this, null, function* () {\n      try {\n        yield window.navigator.clipboard.writeText(m);\n      } catch (y) {\n        console.error(y);\n        return;\n      }\n      p == null || p(m), x(!0);\n    }), [p, m]),\n    z = y => {\n      d && x(!1), i == null || i(y);\n    };\n  return u.createElement(Tooltip, C(f({\n    content: d ? n : H\n  }, a), {\n    isDisabled: o\n  }), u.createElement(Button, C(f({\n    \"aria-label\": d ? \"Value copied to clipboard\" : r != null ? r : \"Copy to clipboard\",\n    \"aria-live\": \"assertive\",\n    className: cx(I.button, t),\n    isDisabled: e || o,\n    isLoading: e,\n    onBlur: z,\n    testId: s\n  }, w), {\n    onClick: M,\n    ref: k,\n    startIcon: u.createElement(CopyIcon, {\n      variant: \"muted\",\n      size: l === \"small\" ? \"tiny\" : \"small\"\n    }),\n    variant: \"secondary\"\n  })));\n}\nE.displayName = \"CopyButton\";\nvar j = u.forwardRef(E);\nexport { j as CopyButton };","map":{"version":3,"names":[],"sources":["/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-copybutton/src/CopyButton.tsx","/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-copybutton/src/CopyButton.styles.ts"],"sourcesContent":["import React, {\n  useCallback,\n  useState,\n  type MouseEventHandler,\n  type FocusEventHandler,\n} from 'react';\nimport { CopyIcon } from '@contentful/f36-icons';\nimport type { ExpandProps } from '@contentful/f36-core';\nimport { Tooltip, type TooltipProps } from '@contentful/f36-tooltip';\nimport { Button, type ButtonProps } from '@contentful/f36-button';\nimport { getCopyButtonStyles } from './CopyButton.styles';\nimport { cx } from 'emotion';\n\nexport type CopyButtonProps = Omit<\n  ButtonProps,\n  | 'children'\n  | 'endIcon'\n  | 'onCopy'\n  | 'onClick'\n  | 'startIcon'\n  | 'isDisabled'\n  | 'size'\n  | 'value'\n  | 'variant'\n> & {\n  /**\n   * Function that gets called when the button is clicked\n   */\n  onCopy?: (string) => void;\n  /**\n   * Text to be shown when the button is clicked\n   * @default Copied!\n   */\n  tooltipCopiedText?: string;\n  /**\n   * Text to be shown when button is hovered or focused\n   * @default Copy to clipboard\n   */\n  tooltipText?: string;\n  /**\n   * Props that are passed to the tooltip component\n   */\n  tooltipProps?: Omit<TooltipProps, 'content' | 'children'>;\n  /**\n   * Label to be used on aria-label for the button\n   * @default Copy to clipboard\n   */\n  label?: string;\n  /**\n   * Allows to disable the copy button, when true the tooltip would not be shown\n   * @default false\n   */\n  isDisabled?: boolean;\n  /**\n   * Allows setting size of the copy button to small\n   * @default medium\n   */\n  size?: 'small' | 'medium';\n  /**\n   * Value that will be copied to clipboard when the button is clicked\n   */\n  value: string;\n};\n\nfunction _CopyButton(\n  {\n    className,\n    isDisabled = false,\n    isLoading = false,\n    label,\n    onBlur,\n    onCopy,\n    size = 'medium',\n    testId = 'cf-ui-copy-button',\n    tooltipCopiedText = 'Copied!',\n    tooltipProps,\n    tooltipText = 'Copy to clipboard',\n    value,\n    ...otherProps\n  }: ExpandProps<CopyButtonProps>,\n  ref: React.Ref<HTMLButtonElement>,\n) {\n  const styles = getCopyButtonStyles({ size });\n  const [copied, setCopied] = useState(false);\n\n  const handleClick = useCallback<\n    MouseEventHandler<HTMLButtonElement>\n  >(async () => {\n    try {\n      await window.navigator.clipboard.writeText(value);\n    } catch (error) {\n      console.error(error);\n      return;\n    }\n\n    onCopy?.(value);\n    setCopied(true);\n  }, [onCopy, value]);\n\n  const handleBlur: FocusEventHandler<HTMLButtonElement> = (event) => {\n    if (copied) {\n      setCopied(false);\n    }\n\n    onBlur?.(event);\n  };\n\n  return (\n    <Tooltip\n      content={copied ? tooltipCopiedText : tooltipText}\n      {...tooltipProps}\n      isDisabled={isDisabled}\n    >\n      <Button\n        aria-label={\n          copied ? 'Value copied to clipboard' : label ?? `Copy to clipboard`\n        }\n        aria-live=\"assertive\"\n        className={cx(styles.button, className)}\n        isDisabled={isLoading || isDisabled}\n        isLoading={isLoading}\n        onBlur={handleBlur}\n        testId={testId}\n        {...otherProps}\n        onClick={handleClick}\n        ref={ref}\n        startIcon={\n          <CopyIcon\n            variant=\"muted\"\n            size={size === 'small' ? 'tiny' : 'small'}\n          />\n        }\n        variant=\"secondary\"\n      />\n    </Tooltip>\n  );\n}\n\n_CopyButton.displayName = 'CopyButton';\n\nexport const CopyButton = React.forwardRef(_CopyButton);\n","import { css } from 'emotion';\nimport { CopyButtonProps } from './CopyButton';\n\nexport const getCopyButtonStyles = ({\n  size,\n}: Pick<CopyButtonProps, 'size'>) => {\n  const buttonSize = size === 'small' ? '32px' : '40px';\n\n  return {\n    button: css({\n      height: buttonSize,\n      minHeight: 'auto',\n      minWidth: 'auto',\n      width: buttonSize,\n    }),\n  };\n};\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}