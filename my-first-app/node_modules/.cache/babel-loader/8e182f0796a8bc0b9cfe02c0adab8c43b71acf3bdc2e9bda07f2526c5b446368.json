{"ast":null,"code":"import h from 'react';\nimport o from 'dayjs';\nimport S from 'dayjs/plugin/utc.js';\nimport A from 'dayjs/plugin/relativeTime.js';\nimport L from 'dayjs/plugin/calendar.js';\nvar W = Object.defineProperty,\n  b = Object.defineProperties;\nvar H = Object.getOwnPropertyDescriptors;\nvar p = Object.getOwnPropertySymbols;\nvar Y = Object.prototype.hasOwnProperty,\n  v = Object.prototype.propertyIsEnumerable;\nvar P = (e, a, t) => a in e ? W(e, a, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: t\n  }) : e[a] = t,\n  f = (e, a) => {\n    for (var t in a || (a = {})) Y.call(a, t) && P(e, t, a[t]);\n    if (p) for (var t of p(a)) v.call(a, t) && P(e, t, a[t]);\n    return e;\n  },\n  D = (e, a) => b(e, H(a));\nvar s = (e, a) => {\n  var t = {};\n  for (var r in e) Y.call(e, r) && a.indexOf(r) < 0 && (t[r] = e[r]);\n  if (e != null && p) for (var r of p(e)) a.indexOf(r) < 0 && v.call(e, r) && (t[r] = e[r]);\n  return t;\n};\no.extend(S);\nfunction T(e) {\n  let a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"full\";\n  let t;\n  switch (a) {\n    case \"day\":\n      t = \"DD MMM YYYY\";\n      break;\n    case \"weekday\":\n      t = \"ddd, DD MMM\";\n      break;\n    case \"time\":\n      t = \"h:mm A\";\n      break;\n    case \"fullWithSeconds\":\n      t = \"ddd, DD MMM YYYY [at] h:mm:ss A\";\n      break;\n    default:\n      t = \"ddd, DD MMM YYYY [at] h:mm A\";\n  }\n  return o(e).format(t);\n}\nfunction m(e) {\n  let a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"full\";\n  let t;\n  switch (a) {\n    case \"day\":\n      t = \"YYYY-MM-DD\";\n      break;\n    case \"weekday\":\n      t = \"MM-DD\";\n      break;\n    case \"time\":\n      t = \"HH:mm:ss.SSS\";\n      break;\n    default:\n      t = \"YYYY-MM-DDTHH:mm:ss.SSS[Z]\";\n  }\n  return o(e).utc().format(t);\n}\no.extend(S);\no.extend(A);\no.extend(L);\nfunction i(e) {\n  let a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date();\n  return o(e).from(a);\n}\nfunction x(e) {\n  let a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date();\n  return o(e).isSame(a, \"day\") ? i(e, a) : o(e).calendar(a, {\n    sameElse: \"DD MMM YYYY\"\n  });\n}\nvar F = (R, d) => {\n    var c = R,\n      {\n        date: e,\n        format: a = \"full\",\n        testId: t = \"cf-ui-date-time\"\n      } = c,\n      r = s(c, [\"date\", \"format\", \"testId\"]);\n    let n = m(e);\n    return h.createElement(\"time\", D(f({\n      dateTime: n,\n      \"data-test-id\": t\n    }, r), {\n      ref: d\n    }), T(e, a));\n  },\n  j = h.forwardRef(F);\no.extend(S);\no.extend(A);\no.extend(L);\nvar Z = (c, R) => {\n    var n = c,\n      {\n        date: e,\n        baseDate: a,\n        isRelativeToCurrentWeek: t = !1,\n        testId: r = \"cf-ui-relative-date-time\"\n      } = n,\n      d = s(n, [\"date\", \"baseDate\", \"isRelativeToCurrentWeek\", \"testId\"]);\n    let g = new Date(),\n      y = a != null ? a : g,\n      w = o(e),\n      E = m(e),\n      u;\n    return t && !w.isSame(y, \"day\") ? u = x(e, y) : u = i(e, y), h.createElement(\"time\", D(f({\n      dateTime: E,\n      \"data-test-id\": r\n    }, d), {\n      ref: R\n    }), u);\n  },\n  q = h.forwardRef(Z);\nexport { j as DateTime, q as RelativeDateTime, T as formatDateAndTime, m as formatMachineReadableDateTime, i as formatRelativeDateTime };","map":{"version":3,"names":[],"sources":["/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-datetime/src/DateTime/DateTime.tsx","/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-datetime/src/utils/formatDateTimeUtils.ts","/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-datetime/src/utils/relativeDateTimeUtils.ts","/Users/tsharliz/Documents/contentful/my-first-app/node_modules/@contentful/f36-datetime/src/RelativeDateTime/RelativeDateTime.tsx"],"sourcesContent":["import React from 'react';\nimport type {\n  CommonProps,\n  PropsWithHTMLElement,\n  ExpandProps,\n} from '@contentful/f36-core';\n\nimport type { DateType, DateFormat } from '../types';\nimport { formatDateAndTime, formatMachineReadableDateTime } from '../utils';\n\ninterface DateTimeOwnProps extends CommonProps {\n  /**\n   * The date that will be displayed. It accepts a JS Date, an ISO8601 Timestamp string, or Unix Epoch Milliseconds number\n   */\n  date: DateType;\n  /**\n   * The format in which the date will be presented\n   *\n   * @default full\n   **/\n  format?: DateFormat;\n}\n\nexport type DateTimeProps = PropsWithHTMLElement<DateTimeOwnProps, 'time'>;\n\nconst _DateTime = (\n  {\n    date,\n    format = 'full',\n    testId = 'cf-ui-date-time',\n    ...otherProps\n  }: ExpandProps<DateTimeProps>,\n  ref: React.Ref<HTMLTimeElement>,\n) => {\n  const machineReadableDate = formatMachineReadableDateTime(date);\n\n  return (\n    <time\n      dateTime={machineReadableDate}\n      data-test-id={testId}\n      {...otherProps}\n      ref={ref}\n    >\n      {formatDateAndTime(date, format)}\n    </time>\n  );\n};\n\n/**\n * The DateTime component will format a date to a human friendly format and wrap it in a `<time>` tag\n */\nexport const DateTime = React.forwardRef(_DateTime);\n","import dayjs from 'dayjs';\nimport utcPlugin from 'dayjs/plugin/utc.js';\ndayjs.extend(utcPlugin);\n\nimport type { DateType, DateFormat } from '../types';\n\n/**\n * A funtion that will return a formatted date string. The format will dependend on the option\n * passed in the second argument.\n * By default, it will return a string with Forma 36â€™s \"full\" format (e.g. Tue, 17 Aug 2021 at 3:45 PM)\n *\n * @param {DateType} date - the date to be formatted\n * @param {DateFormat} format - the desired format (\"full\", \"day\", \"weekday\", or \"time\")\n * @returns a formatted date\n *\n * @example\n * formatDateAndTime('2021-08-17T15:45:00') // returns \"Tue, 17 Aug 2021 at 3:45 PM\"\n *\n * @example\n * formatDateAndTime('2021-08-17T15:45:00', 'day') // returns \"17 Aug 2021\"\n */\nexport function formatDateAndTime(\n  date: DateType,\n  format: DateFormat = 'full',\n): string {\n  let template: string;\n\n  switch (format) {\n    case 'day':\n      template = 'DD MMM YYYY'; // 17 Aug 2021\n      break;\n    case 'weekday':\n      template = 'ddd, DD MMM'; // Tue, 17 Aug\n      break;\n    case 'time':\n      template = 'h:mm A'; // 3:45 PM\n      break;\n    case 'fullWithSeconds':\n      template = 'ddd, DD MMM YYYY [at] h:mm:ss A'; // Tue, 17 Aug 2021 at 3:45:67 PM\n      break;\n    default:\n      template = 'ddd, DD MMM YYYY [at] h:mm A'; // Tue, 17 Aug 2021 at 3:45 PM\n  }\n\n  return dayjs(date).format(template);\n}\n\n/**\n * A funtion that will return a machine-readable date string that should be passed to the `datetime` attribute of a `<time>` tag\n * By default, it will return a string with \"YYYY-MM-DDTHH:mm:ss.SSS[Z]\" format\n *\n * @param {DateType} date - the date to be formatted\n * @param {DateFormat} format - the desired format (\"full\", \"day\", \"weekday\", or \"time\")\n * @returns a formatted date\n *\n * @example\n * formatMachineReadableDateTime(date) // returns 2019-08-13T10:00:00.000Z\n *\n * @example\n * formatMachineReadableDateTime(date, 'day') // returns 2019-08-13\n */\nexport function formatMachineReadableDateTime(\n  date: DateType,\n  format: DateFormat = 'full',\n): string {\n  let template: string;\n\n  switch (format) {\n    case 'day':\n      template = 'YYYY-MM-DD'; // 2019-08-24\n      break;\n    case 'weekday':\n      template = 'MM-DD'; // 08-24\n      break;\n    case 'time':\n      template = 'HH:mm:ss.SSS'; // 15:44:07.000\n      break;\n    default:\n      template = 'YYYY-MM-DDTHH:mm:ss.SSS[Z]'; // 2019-08-24T15:44:07.000Z\n  }\n\n  return dayjs(date).utc().format(template);\n}\n\n/**\n * @example\n * > formatDate(date)\n * 13 Aug 2019\n */\nexport const formatDate = (date: DateType): string => {\n  return formatDateAndTime(date, 'day');\n};\n\n/**\n * @example\n * > formatTime(date)\n * 8:00 AM\n */\nexport const formatTime = (date: DateType): string => {\n  return formatDateAndTime(date, 'time');\n};\n\n/**\n * @example\n * > formatWeekdayDate(date)\n * Mon, 12 Aug\n */\nexport const formatWeekdayDate = (date: DateType): string => {\n  return formatDateAndTime(date, 'weekday');\n};\n","import dayjs from 'dayjs';\nimport utcPlugin from 'dayjs/plugin/utc.js';\nimport relativeTime from 'dayjs/plugin/relativeTime.js';\nimport calendarPlugin from 'dayjs/plugin/calendar.js';\ndayjs.extend(utcPlugin);\ndayjs.extend(relativeTime);\ndayjs.extend(calendarPlugin);\n\nimport type { DateType } from '../types';\n\n/**\n * A function that will return a string with how far a given date is in the past or future,\n * using a baseDate as reference. If the baseDate is not passed, the function will use today as reference.\n *\n * @param {DateType} date - the date to be formatted\n * @param {DateFormat} baseDate - the date that should be used as a reference (default is \"today\")\n * @returns a relative date\n *\n * @example\n * // Considering today as 18.08.2021\n * formatRelativeDateTime('2021-08-17T15:45:00') // returns \"a day ago\"\n *\n * @example\n * formatRelativeDateTime('2021-08-17T15:45:00', '2021-08-16') // returns \"in a day\"\n */\nexport function formatRelativeDateTime(\n  date: DateType,\n  baseDate: DateType = new Date(),\n) {\n  return dayjs(date).from(baseDate);\n}\n\n/**\n * A function that formats a date relative to Today or to the `baseDate` if passed.\n * If the date is not today, it will return a string with \"Yesterday ...\", \"Tomorrow ...\", etc\n * If the date is not in the current week, it return a string with \"DD MMM YYYY\" format\n * If the date is today, it will return a string with \"... ago\" or \"in ...\"\n *\n * @param {DateType} date - the date to be formatted\n * @param {DateFormat} baseDate - the date that should be used as a reference (default is \"today\")\n * @returns a relative date\n *\n * @example\n * // Considering today as 18.08.2021\n * formatRelativeToCurrentWeekDateTime('2021-08-17T15:45:00') // returns \"Yesterday at 3:45 PM\"\n *\n * @example\n * formatRelativeToCurrentWeekDateTime('2021-08-17T15:45:00', '2021-08-16') // returns \"Tomorrow at 3:45 PM\"\n */\nexport function formatRelativeToCurrentWeekDateTime(\n  date: DateType,\n  baseDate: DateType = new Date(),\n) {\n  const isToday = dayjs(date).isSame(baseDate, 'day');\n\n  if (!isToday) {\n    // if the date is not today, we display it with \"Yesterday\", \"Tomorrow\", etc.\n    // and if the date is not in the current week then it will display \"17 Aug 2021\"\n    return dayjs(date).calendar(baseDate, {\n      sameElse: 'DD MMM YYYY',\n    });\n  }\n\n  // returns \"... ago\"\n  return formatRelativeDateTime(date, baseDate);\n}\n","import React from 'react';\nimport type {\n  CommonProps,\n  PropsWithHTMLElement,\n  ExpandProps,\n} from '@contentful/f36-core';\n\nimport dayjs from 'dayjs';\nimport utcPlugin from 'dayjs/plugin/utc.js';\nimport relativeTime from 'dayjs/plugin/relativeTime.js';\nimport calendarPlugin from 'dayjs/plugin/calendar.js';\ndayjs.extend(utcPlugin);\ndayjs.extend(relativeTime);\ndayjs.extend(calendarPlugin);\n\nimport type { DateType } from '../types';\nimport {\n  formatMachineReadableDateTime,\n  formatRelativeDateTime,\n  formatRelativeToCurrentWeekDateTime,\n} from '../utils';\n\ninterface RelativeDateTimeInternalProps extends CommonProps {\n  /**\n   * The date that will be displayed. It accepts a JS Date, an ISO8601 Timestamp string, or Unix Epoch Milliseconds number\n   */\n  date: DateType;\n  /**\n   * If a value is passed to baseDate, then the component will compare both dates and return the time between them.\n   * If no value is passed then the date will be compared to \"now\"\n   *\n   * @default \"Now\"\n   */\n  baseDate?: DateType;\n  /**\n   * Sets the date to be relative only if it is in the current week\n   * @default false\n   */\n  isRelativeToCurrentWeek?: boolean;\n}\n\nexport type RelativeDateTimeProps = PropsWithHTMLElement<\n  RelativeDateTimeInternalProps,\n  'time'\n>;\n\nconst _RelativeDateTime = (\n  {\n    date,\n    baseDate,\n    isRelativeToCurrentWeek = false,\n    testId = 'cf-ui-relative-date-time',\n    ...otherProps\n  }: ExpandProps<RelativeDateTimeProps>,\n  ref: React.Ref<HTMLTimeElement>,\n) => {\n  const now = new Date();\n  const referenceDate = baseDate ?? now;\n  const dayjsDate = dayjs(date);\n  const machineReadableDate = formatMachineReadableDateTime(date);\n\n  let relativeDate: string;\n\n  if (isRelativeToCurrentWeek && !dayjsDate.isSame(referenceDate, 'day')) {\n    /**\n     * if isRelativeToCurrentWeek is true and the date is not today, we display the date with Yesterday, Tomorrow, etc\n     * or, if the date is not in the current week, it displays \"17 Aug 2021\"\n     *\n     * check formatRelativeToCurrentWeekDateTime for more details\n     */\n    relativeDate = formatRelativeToCurrentWeekDateTime(date, referenceDate);\n  } else {\n    // otherwise we display it with \"... ago\" or \"in ...\" notation\n    relativeDate = formatRelativeDateTime(date, referenceDate);\n  }\n\n  return (\n    <time\n      dateTime={machineReadableDate}\n      data-test-id={testId}\n      {...otherProps}\n      ref={ref}\n    >\n      {relativeDate}\n    </time>\n  );\n};\n\n/**\n * The RelativeDateTime will show a `date` relative to \"now\" or to the `baseDate`\n * (e.g. in a day, in one month, one month ago, etc).\n */\nexport const RelativeDateTime = React.forwardRef(_RelativeDateTime);\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}