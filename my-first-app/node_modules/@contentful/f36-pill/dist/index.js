'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var n = require('react');
var emotion = require('emotion');
var f36Tooltip = require('@contentful/f36-tooltip');
var f36Icons = require('@contentful/f36-icons');
var f36Button = require('@contentful/f36-button');
var o = require('@contentful/f36-tokens');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var n__default = /*#__PURE__*/_interopDefaultLegacy(n);
var o__default = /*#__PURE__*/_interopDefaultLegacy(o);

var E=Object.defineProperty;var s=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var f=(t,e,r)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p=(t,e)=>{for(var r in e||(e={}))P.call(e,r)&&f(t,r,e[r]);if(s)for(var r of s(e))y.call(e,r)&&f(t,r,e[r]);return t};var b=(t,e)=>{var r={};for(var a in t)P.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&s)for(var a of s(t))e.indexOf(a)<0&&y.call(t,a)&&(r[a]=t[a]);return r};var H=()=>emotion.css({borderLeft:`1px solid ${o__default["default"].gray400}`,borderTopLeftRadius:0,borderBottomLeftRadius:0,padding:o__default["default"].spacingXs,minHeight:"auto",transition:`background ${o__default["default"].transitionDurationShort} ${o__default["default"].transitionEasingDefault},
    opacity ${o__default["default"].transitionDurationDefault} ${o__default["default"].transitionEasingDefault}`,"&:focus":{boxShadow:o__default["default"].glowMuted,borderLeftColor:o__default["default"].gray300},"&:hover, &:focus, &:active":{backgroundColor:o__default["default"].gray300}}),L=()=>emotion.css({color:o__default["default"].gray700,lineHeight:o__default["default"].lineHeightM,padding:o__default["default"].spacingXs,fontSize:o__default["default"].fontSizeM,flexGrow:2,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),N=t=>{let e=r=>{switch(r){case"active":return {background:o__default["default"].gray300};case"deleted":return {background:o__default["default"].gray200,textDecoration:"line-through",opacity:"0.5"};default:return {background:o__default["default"].gray200}}};return emotion.css(p({display:"inline-flex",fontFamily:o__default["default"].fontStackPrimary,alignItems:"center",borderRadius:o__default["default"].borderRadiusSmall,border:"none",padding:0,maxWidth:"100%"},e(t)))};function h(t){return {closeButton:H(),label:L(),icon:emotion.css({fill:o__default["default"].gray600,verticalAlign:"middle",outline:"none"}),dragIcon:emotion.css({padding:o__default["default"].spacingXs,paddingRight:0,cursor:"move"}),pill:N(t)}}var v=n__default["default"].forwardRef((t,e)=>{let g=t,{label:r,onClose:a,testId:x="cf-ui-pill",onDrag:d,className:C,dragHandleComponent:c,variant:D="idle"}=g,S=b(g,["label","onClose","testId","onDrag","className","dragHandleComponent","variant"]),l=h(D),[I,m]=n__default["default"].useState(!1),k=n__default["default"].useCallback(u=>{if(!u)return;let{scrollWidth:T,offsetWidth:w}=u.parentElement;m(T>w);},[m]);return n__default["default"].createElement("div",p({className:emotion.cx(l.pill,C),"data-test-id":x,onDrag:d,ref:e},S),d&&(c||n__default["default"].createElement("span",{"aria-label":"Drag handler",className:l.dragIcon},n__default["default"].createElement(f36Icons.DragIcon,{className:l.icon,variant:"muted"}))),n__default["default"].createElement(f36Tooltip.Tooltip,{content:r,maxWidth:"none",targetWrapperClassName:l.label,isDisabled:!I},n__default["default"].createElement("span",{ref:k},r)),a&&n__default["default"].createElement(f36Button.Button,{type:"button",variant:"transparent",startIcon:n__default["default"].createElement(f36Icons.CloseIcon,{"aria-label":"Close"}),"aria-label":"Close",onClick:a,className:l.closeButton}))});v.displayName="Pill";

exports.Pill = v;
//# sourceMappingURL=index.js.map