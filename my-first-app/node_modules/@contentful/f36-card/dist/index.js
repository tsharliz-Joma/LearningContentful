'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var b = require('react');
var emotion = require('emotion');
var f36Core = require('@contentful/f36-core');
var f36Badge = require('@contentful/f36-badge');
var f36Asset = require('@contentful/f36-asset');
var f36Skeleton = require('@contentful/f36-skeleton');
var f36DragHandle = require('@contentful/f36-drag-handle');
var n = require('@contentful/f36-tokens');
var f36Typography = require('@contentful/f36-typography');
var f36Button = require('@contentful/f36-button');
var f36Icons = require('@contentful/f36-icons');
var f36Menu = require('@contentful/f36-menu');
var Ar = require('truncate');
var f36Tooltip = require('@contentful/f36-tooltip');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var b__default = /*#__PURE__*/_interopDefaultLegacy(b);
var n__default = /*#__PURE__*/_interopDefaultLegacy(n);
var Ar__default = /*#__PURE__*/_interopDefaultLegacy(Ar);

var jr=Object.defineProperty,Yr=Object.defineProperties;var Kr=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var ir=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable;var sr=(r,e,t)=>e in r?jr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d=(r,e)=>{for(var t in e||(e={}))ir.call(e,t)&&sr(r,t,e[t]);if($)for(var t of $(e))dr.call(e,t)&&sr(r,t,e[t]);return r},c=(r,e)=>Yr(r,Kr(e));var h=(r,e)=>{var t={};for(var o in r)ir.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&$)for(var o of $(r))e.indexOf(o)<0&&dr.call(r,o)&&(t[o]=r[o]);return t};var pr=()=>({contentBody:emotion.css({gridColumn:"content",gridRow:"content",whiteSpace:"initial"}),wrapper:emotion.css({flex:"1 1 0",display:"grid",gridTemplateRows:"[header] auto [content] minmax(0, 1fr)",gridTemplateColumns:"auto [content] minmax(0, 1fr)"}),dragHandle:emotion.css({borderBottomLeftRadius:n__default["default"].borderRadiusMedium,borderTopLeftRadius:n__default["default"].borderRadiusMedium,cursor:"grab"}),root:({hasHeader:r,isHovered:e,isSelected:t})=>{let o={backgroundColor:n__default["default"].colorWhite,borderColor:n__default["default"].gray300,borderRadius:n__default["default"].borderRadiusMedium,borderStyle:"solid",borderWidth:1,color:n__default["default"].gray900,display:"flex",textAlign:"left",width:"100%",fontSize:n__default["default"].fontSizeM,fontWeight:n__default["default"].fontWeightNormal,position:"relative",textDecoration:"none",margin:0,transition:`border-color ${n__default["default"].transitionDurationDefault} ${n__default["default"].transitionEasingDefault},
    box-shadow ${n__default["default"].transitionDurationShort} ${n__default["default"].transitionEasingDefault}`,"&:focus":emotion.css({borderColor:t?n__default["default"].blue100:n__default["default"].colorPrimary,boxShadow:n__default["default"].glowPrimary,outline:"none"}),"&:focus:not(:focus-visible)":emotion.css({borderColor:t?n__default["default"].colorPrimary:n__default["default"].gray300,boxShadow:"unset"}),"&:focus-visible":emotion.css({borderColor:n__default["default"].colorPrimary,boxShadow:n__default["default"].glowPrimary})};return r||(o.paddingTop=n__default["default"].spacingM),e&&(o.borderColor=n__default["default"].colorPrimary,o.cursor="pointer"),t&&(o.backgroundColor=n__default["default"].blue100,o.borderColor=n__default["default"].colorPrimary),emotion.css(o)},skeleton:emotion.css({border:`1px solid ${n__default["default"].gray300}`,borderRadius:n__default["default"].borderRadiusMedium,padding:n__default["default"].spacingM})});var mr=()=>({root:emotion.css({minHeight:"auto",padding:n__default["default"].spacing2Xs,marginLeft:n__default["default"].spacingXs})});var R=({buttonProps:r,children:e})=>{let t=mr();return b__default["default"].createElement(f36Menu.Menu,null,b__default["default"].createElement(f36Menu.Menu.Trigger,null,b__default["default"].createElement(f36Button.IconButton,c(d({"aria-label":"Actions",icon:b__default["default"].createElement(f36Icons.MoreHorizontalIcon,null)},r),{className:emotion.cx(t.root,r==null?void 0:r.className),size:"small",variant:"transparent",testId:"cf-ui-card-actions"}))),b__default["default"].createElement(f36Menu.Menu.List,null,e))};var ee=()=>({header:emotion.css({alignItems:"center",borderBottomColor:n__default["default"].gray200,borderBottomStyle:"solid",borderBottomWidth:1,borderTopLeftRadius:n__default["default"].borderRadiusMedium,borderTopRightRadius:n__default["default"].borderRadiusMedium,boxSizing:"border-box",color:n__default["default"].gray600,fontSize:n__default["default"].fontSizeM,fontWeight:n__default["default"].fontWeightNormal,gridColumn:"content",gridRow:"header",lineHeight:n__default["default"].lineHeightM,paddingBottom:n__default["default"].spacingXs,paddingLeft:n__default["default"].spacingM,paddingRight:n__default["default"].spacingXs,paddingTop:n__default["default"].spacingXs,minHeight:"37px"}),headerWithActions:emotion.css({paddingBottom:0,paddingRight:n__default["default"].spacingXs,paddingTop:0})}),j=r=>{r.preventDefault(),r.stopPropagation();},X=r=>{let{icon:e,type:t,actions:o,actionsButtonProps:a,badge:p}=r,l=ee();return b__default["default"].createElement(f36Core.Flex,{className:emotion.cx(l.header,o&&l.headerWithActions)},b__default["default"].createElement(f36Core.Flex,{flexGrow:1},t&&b__default["default"].createElement(f36Typography.Text,{fontColor:"gray600",isWordBreak:!0},t)),e&&b__default["default"].createElement(f36Core.Flex,{alignItems:"center",marginLeft:"spacingXs"},e),p&&b__default["default"].createElement(f36Core.Flex,{alignItems:"center",marginLeft:"spacingXs"},p),o&&o.length>0&&b__default["default"].createElement(f36Core.Flex,{onClick:j,alignItems:"center"},b__default["default"].createElement(R,{buttonProps:a},o)))};X.displayName="DefaultCardHeader";var ie="article";function fr(Te,vr){var tr=Te,{actions:r,actionsButtonProps:e,ariaLabel:t,badge:o,children:a,className:p,contentBodyProps:l,header:m,href:y,icon:C,isDragging:s=!1,isHovered:i,isSelected:P=!1,onBlur:w,onClick:E,onFocus:A,onKeyDown:x,onMouseEnter:B,onMouseLeave:v,target:_r,rel:wr,testId:Rr="cf-ui-base-card",title:J,type:Q,withDragHandle:Z,dragHandleRender:rr,isLoading:kr}=tr,er=h(tr,["actions","actionsButtonProps","ariaLabel","badge","children","className","contentBodyProps","header","href","icon","isDragging","isHovered","isSelected","onBlur","onClick","onFocus","onKeyDown","onMouseEnter","onMouseLeave","target","rel","testId","title","type","withDragHandle","dragHandleRender","isLoading"]);let F=pr(),[Fr,or]=b.useState(i!=null?i:!1),nr=Boolean(E||y||Z),Nr=Boolean(m),Wr=Q||C||o||r?b__default["default"].createElement(X,{type:Q,icon:C,badge:o,actions:r,actionsButtonProps:e}):null,Xr=b.useCallback(u=>{A&&A(u);},[A]),Gr=b.useCallback(u=>{w&&w(u);},[w]),Ur=b.useCallback(u=>{or(!0),B&&B(u);},[B]),$r=b.useCallback(u=>{or(!1),v&&v(u);},[v]),zr=E?u=>{E(u);}:void 0,Or=b.useCallback(u=>{x&&x(u);},[x]);if(kr)return b__default["default"].createElement(f36Skeleton.Skeleton.Container,{className:F.skeleton,svgHeight:"5.6rem"},b__default["default"].createElement(f36Skeleton.Skeleton.DisplayText,{numberOfLines:1}),b__default["default"].createElement(f36Skeleton.Skeleton.BodyText,{numberOfLines:1,offsetTop:35}));let ar=b__default["default"].createElement(f36DragHandle.DragHandle,{className:F.dragHandle,isActive:s,label:"Reorder entry",onClick:j});return b__default["default"].createElement(f36Core.Box,c(d({"aria-label":J||t,"aria-pressed":er.as==="button"?P?"true":"false":void 0,as:ie,className:emotion.cx(F.root({hasHeader:Nr,isHovered:Fr,isSelected:P}),p),href:y,onBlur:Gr,onClick:zr,onFocus:Xr,onMouseEnter:typeof i=="undefined"&&nr?Ur:void 0,onMouseLeave:typeof i=="undefined"&&nr?$r:void 0,onKeyDown:Or,rel:y&&(wr||"noreferrer"),role:E&&!y?"button":void 0,tabIndex:E?0:void 0,target:_r},er),{ref:vr,testId:Rr,title:J}),Z?rr?rr({drag:ar,isDragging:s}):ar:null,b__default["default"].createElement("div",{className:F.wrapper,"data-card-part":"wrapper"},m!=null?m:Wr,b__default["default"].createElement("div",{className:F.contentBody,"data-card-part":"content"},a)))}fr.displayName="BaseCard";var S=b.forwardRef(fr);var gr=()=>({root:({size:r})=>emotion.css({display:"inline-flex",width:"auto",borderRadius:n__default["default"].borderRadiusMedium,minWidth:`calc(1rem * (120 / ${n__default["default"].fontBaseDefault}))`,height:r==="small"?`calc(1rem * (188 / ${n__default["default"].fontBaseDefault}))`:`calc(1rem * (300 / ${n__default["default"].fontBaseDefault}))`,padding:0,textAlign:"center"}),asset:emotion.css({height:"100%"}),skeleton:emotion.css({border:`1px solid ${n__default["default"].gray300}`,borderRadius:n__default["default"].borderRadiusMedium,padding:n__default["default"].spacingM})});var ur=w=>{var E=w,{actions:r,className:e,icon:t=null,isSelected:o,size:a="default",src:p,status:l,title:m,type:y,withDragHandle:C=!1,isLoading:s,testId:i="cf-ui-asset-card"}=E,P=h(E,["actions","className","icon","isSelected","size","src","status","title","type","withDragHandle","isLoading","testId"]);let A=gr(),x=l?b__default["default"].createElement(f36Badge.EntityStatusBadge,{entityStatus:l}):null,B=t||x||r?b__default["default"].createElement(X,{icon:t,badge:x,actions:r}):null;return s?b__default["default"].createElement(f36Skeleton.Skeleton.Container,{className:A.skeleton,svgWidth:a==="default"?"18rem":"11rem",svgHeight:a==="default"?"18.75rem":"12rem"},b__default["default"].createElement(f36Skeleton.Skeleton.Image,{width:"100%",height:"18.75rem"})):b__default["default"].createElement(S,c(d({},P),{badge:x,className:emotion.cx(A.root({size:a}),e),header:B,isSelected:o,title:m,withDragHandle:C,testId:i}),b__default["default"].createElement(f36Core.Flex,{alignItems:"center",fullHeight:!0,justifyContent:"center"},b__default["default"].createElement(f36Asset.Asset,{className:A.asset,src:p,status:l,title:m,type:y})))};var ce=r=>{switch(r){case"large":return n__default["default"].spacingL;case"none":return 0;default:return n__default["default"].spacingM}},Er=({padding:r})=>({header:emotion.css({gridColumn:"content",gridRow:"header",marginBottom:n__default["default"].spacingM}),root:emotion.css({padding:ce(r)})});function hr(C,y){var s=C,{actions:r,badge:e,icon:t,padding:o="default",title:a,className:p,testId:l="cf-ui-card"}=s,m=h(s,["actions","badge","icon","padding","title","className","testId"]);let i=Er({padding:o}),P=Boolean(a||t||e||r);return b__default["default"].createElement(S,c(d({className:emotion.cx(i.root,p)},m),{testId:l,header:P&&b__default["default"].createElement(f36Core.Flex,{alignItems:"center",className:emotion.cx(i.header)},a&&b__default["default"].createElement(f36Core.Flex,{as:"header",flexGrow:1},b__default["default"].createElement(f36Typography.Heading,{marginBottom:"none"},a)),t&&b__default["default"].createElement(f36Core.Flex,{alignItems:"center",marginLeft:"spacingXs"},t),e&&b__default["default"].createElement(f36Core.Flex,{alignItems:"center",marginLeft:"spacingXs"},e),r&&b__default["default"].createElement(R,null,r)),ref:y}))}hr.displayName="Card";var Br=b.forwardRef(hr);var br=()=>({actionsButton:emotion.css({borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:0,borderTopRightRadius:n__default["default"].borderRadiusMedium}),content:r=>emotion.css({gridColumn:"content",marginTop:r==="small"?n__default["default"].spacingXs:n__default["default"].spacingS,marginBottom:r==="small"?`calc(-1 * ${n__default["default"].spacingXs})`:0}),root:emotion.css({padding:0,'[data-card-part="content"]':{paddingBottom:n__default["default"].spacingM,paddingLeft:n__default["default"].spacingM,paddingRight:n__default["default"].spacingM}}),header:emotion.css({borderBottomWidth:1,borderBottomColor:n__default["default"].gray200,borderBottomStyle:"solid",minHeight:"auto",paddingBottom:n__default["default"].spacingXs,paddingLeft:n__default["default"].spacingM,paddingRight:n__default["default"].spacingXs}),thumbnail:r=>emotion.css(d({margin:`0 0 0 ${n__default["default"].spacingS}`,padding:0,overflow:"hidden",position:"relative",img:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",zIndex:1}},r==="small"?{height:"40px",width:"40px"}:{height:"70px",width:"70px"}))});var he="article";function Tr({title:r,titleTag:e}){if(!r)return null;let t=Ar__default["default"](r,255,{});return b__default["default"].createElement(f36Typography.Subheading,{title:r.length>255?r:"",testId:"title",as:e,marginBottom:"none",isWordBreak:!0},t)}Tr.displayName="EntryCardTitle";function Ir({description:r,size:e}){if(!r||e==="small")return null;let t=Ar__default["default"](r,95,{});return b__default["default"].createElement(f36Typography.Paragraph,{marginBottom:"none",isWordBreak:!0},t)}Ir.displayName="EntryCardDescription";function Sr(A,E){var x=A,{actions:r,children:e,className:t,src:o,status:a,thumbnailElement:p,description:l,withDragHandle:m=!1,title:y,titleTag:C="h2",size:s,testId:i="cf-ui-entry-card",contentType:P}=x,w=h(x,["actions","children","className","src","status","thumbnailElement","description","withDragHandle","title","titleTag","size","testId","contentType"]);let B=br(),v=a?b__default["default"].createElement(f36Badge.EntityStatusBadge,{entityStatus:a}):null;return b__default["default"].createElement(S,c(d({as:he},w),{actions:r,badge:v,className:emotion.cx(B.root,t),withDragHandle:m,ref:E,type:P,testId:i}),b__default["default"].createElement(f36Core.Flex,{alignItems:"center",className:B.content(s),flexDirection:"row"},b__default["default"].createElement(f36Core.Flex,{flexDirection:"column",flexGrow:1,gap:"spacingS"},b__default["default"].createElement(Tr,{title:y,titleTag:C}),b__default["default"].createElement(Ir,{size:s,description:l}),e),p&&s!=="small"&&b__default["default"].createElement("figure",{className:B.thumbnail(s)},p)))}Sr.displayName="EntryCard";var Dr=b.forwardRef(Sr);var Hr=()=>({actions:emotion.css({display:"flex",padding:0,marginLeft:n__default["default"].spacingXs,minHeight:"auto"}),root:({status:r})=>{let e=f36Core.getEntityStatusStyles({status:r});return emotion.css({borderBottomLeftRadius:0,borderTopLeftRadius:0,display:"inline-flex",width:"auto",verticalAlign:"middle",paddingBottom:0,paddingTop:0,paddingLeft:n__default["default"].spacingS,paddingRight:n__default["default"].spacing2Xs,'[data-card-part="wrapper"]':{display:"inline-flex",flexDirection:"row-reverse"},"&::before":{backgroundColor:e.color,bottom:0,content:'""',display:"block",left:0,position:"absolute",top:0,width:n__default["default"].spacing2Xs}})},skeleton:emotion.css({display:"inline-flex",border:`1px solid ${n__default["default"].gray300}`,borderTopRightRadius:n__default["default"].borderRadiusMedium,borderBottomRightRadius:n__default["default"].borderRadiusMedium,padding:n__default["default"].spacingXs})});var Mr=y=>{var C=y,{actions:r,className:e,children:t,status:o,title:a,isLoading:p,testId:l="cf-ui-inline-entry-card"}=C,m=h(C,["actions","className","children","status","title","isLoading","testId"]);let s=Hr(),i=b__default["default"].createElement(R,{buttonProps:{className:s.actions}},r);return p?b__default["default"].createElement(f36Skeleton.Skeleton.Container,{className:s.skeleton,svgHeight:"1.25rem",svgWidth:"6rem"},b__default["default"].createElement(f36Skeleton.Skeleton.BodyText,{numberOfLines:1})):b__default["default"].createElement(f36Tooltip.Tooltip,{placement:"bottom",content:a},b__default["default"].createElement(S,c(d({},m),{className:emotion.cx(s.root({status:o}),e),header:i,testId:l}),t||b__default["default"].createElement(f36Typography.Text,null,a)))};

exports.AssetCard = ur;
exports.Card = Br;
exports.EntryCard = Dr;
exports.InlineEntryCard = Mr;
//# sourceMappingURL=index.js.map